(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Gqir:function(t,e,r){"use strict";r.r(e),r.d(e,"FormuliModule",function(){return h});var n=r("ofXK"),o=r("3Pt+"),i=r("8MG2"),c=r("tyNb"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function l(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(){return function(t,e,r){this.name=t,this.mgPerMl=e,this.standardDose=r}}(),s=r("fXoL"),p=function(){function t(){}return t.prototype.getSpecialties=function(){return[new u("Clindamycine 125mg/5ml",25,15),new u("Clindamycine 250mg/5ml",50,20)]},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),b=function(){function t(){}return t.prototype.compute=function(t,e,r,n){var o=this.round(e*r*(1/t),1);return[o,this.round(o/n,1)]},t.prototype.round=function(t,e){return Math.round(Math.pow(10,e)*t)/Math.pow(10,e)},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),f=function(){function t(t){this.form=t}return t.prototype.ngOnInit=function(){this.updateAll(this.form.value),this.addChangeListener("weight"),this.addChangeListener("targetDose"),this.addChangeListener("intakes")},t.prototype.addChangeListener=function(t){var e=this;this.form.get(t).valueChanges.subscribe(function(r){var n=e.form.value;n[t]=r,e.updateAll(n)})},t.\u0275fac=function(e){return new(e||t)(s.Ib(o.f))},t.\u0275dir=s.Db({type:t}),t}();function m(t,e){if(1&t&&(s.Ob(0,"option",11),s.vc(1),s.Nb()),2&t){var r=e.$implicit;s.cc("ngValue",r),s.xb(1),s.wc(r.name)}}function g(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"p",12),s.vc(2),s.Jb(3,"br"),s.vc(4),s.Jb(5,"br"),s.vc(6),s.Nb(),s.Nb()),2&t){var r=s.Xb();s.xb(2),s.zc(" ",r.form.controls.weight.value," kg \xd7 ",r.form.controls.targetDose.value," mg/kg/jour \xf7 ",r.form.controls.specialty.value.mgPerMl," mg/ml "),s.xb(2),s.xc(" \u21d2 ",r.dailyMl," ml/jour "),s.xb(2),s.yc(" \u21d2 ",r.intakeMl," ml (",r.form.controls.intakes.value," fois par jour) ")}}function d(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"p",10),s.vc(2),s.Jb(3,"br"),s.vc(4),s.Jb(5,"br"),s.vc(6),s.Nb(),s.Nb()),2&t){var r=s.Xb();s.xb(2),s.zc(" ",r.form.controls.weight.value," kg \xd7 ",r.form.controls.targetDose.value," mg/kg/jour \xf7 ",r.form.controls.dosage.value," mg/ml "),s.xb(2),s.xc(" \u21d2 ",r.dailyMl," ml/jour "),s.xb(2),s.yc(" \u21d2 ",r.intakeMl," ml (",r.form.controls.intakes.value," fois par jour) ")}}var v=[{path:"spec",component:function(t){function e(e,r,n){var o=t.call(this,e.group({specialty:"",weight:"",targetDose:"",intakes:3}))||this;return o.formBuilder=e,o.specialtyService=r,o.formulaService=n,o.specialties=r.getSpecialties(),o}return l(e,t),e.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.form.get("specialty").valueChanges.subscribe(function(t){if(t){var r=e.form.value;r.specialty=t,r.targetDose=t.standardDose,e.form.get("targetDose").setValue(t.standardDose),e.updateAll(r)}})},e.prototype.updateAll=function(t){var e;t&&(e=this.formulaService.compute(t.specialty.mgPerMl,t.weight,t.targetDose,t.intakes),this.dailyMl=e[0],this.intakeMl=e[1])},e.\u0275fac=function(t){return new(t||e)(s.Ib(o.c),s.Ib(p),s.Ib(b))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-specialty-dosage"]],features:[s.ub],decls:20,vars:3,consts:[["clrForm","","clrLayout","compact",3,"formGroup"],["for","specialty"],["clrSelect","","id","specialty","formControlName","specialty"],[3,"ngValue",4,"ngFor","ngForOf"],["for","weight"],["clrInput","","type","number","formControlName","weight"],["for","targetDose"],["clrInput","","type","number","formControlName","targetDose"],["for","intakes"],["clrInput","","type","number","formControlName","intakes","min","1","max","9"],[4,"ngIf"],[3,"ngValue"],[1,"result"]],template:function(t,e){1&t&&(s.Ob(0,"div"),s.Ob(1,"form",0),s.Ob(2,"clr-select-container"),s.Ob(3,"label",1),s.vc(4,"Sp\xe9cialit\xe9"),s.Nb(),s.Ob(5,"select",2),s.tc(6,m,2,2,"option",3),s.Nb(),s.Nb(),s.Ob(7,"clr-input-container"),s.Ob(8,"label",4),s.vc(9,"Poids [kg]"),s.Nb(),s.Jb(10,"input",5),s.Nb(),s.Ob(11,"clr-input-container"),s.Ob(12,"label",6),s.vc(13,"Dose journali\xe8re prescrite par kilogramme [mg/kg/jour]"),s.Nb(),s.Jb(14,"input",7),s.Nb(),s.Ob(15,"clr-input-container"),s.Ob(16,"label",8),s.vc(17,"Prises par jour"),s.Nb(),s.Jb(18,"input",9),s.Nb(),s.Nb(),s.Nb(),s.tc(19,g,7,6,"div",10)),2&t&&(s.xb(1),s.cc("formGroup",e.form),s.xb(5),s.cc("ngForOf",e.specialties),s.xb(13),s.cc("ngIf",e.dailyMl>0))},directives:[o.w,o.l,i.b,i.g,o.g,i.k,i.f,o.t,i.j,o.k,o.e,n.l,i.e,o.q,o.b,i.d,n.m,o.p,o.v],styles:[".result[_ngcontent-%COMP%]{font-weight:700}"]}),e}(f)},{path:"conc",component:function(t){function e(e,r){var n=t.call(this,e.group({dosage:"",weight:"",targetDose:"",intakes:3}))||this;return n.formBuilder=e,n.formulaService=r,n}return l(e,t),e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.addChangeListener("dosage")},e.prototype.updateAll=function(t){var e;t&&(e=this.formulaService.compute(t.dosage,t.weight,t.targetDose,t.intakes),this.dailyMl=e[0],this.intakeMl=e[1])},e.\u0275fac=function(t){return new(t||e)(s.Ib(o.c),s.Ib(b))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-concentration-dosage"]],features:[s.ub],decls:19,vars:2,consts:[["clrForm","","clrLayout","compact",3,"formGroup"],["for","dosage"],["clrInput","","type","number","formControlName","dosage"],["for","weight"],["clrInput","","type","number","formControlName","weight"],["for","targetDose"],["clrInput","","type","number","formControlName","targetDose"],["for","intakes"],["clrInput","","type","number","formControlName","intakes","min","1","max","9"],[4,"ngIf"],[1,"result"]],template:function(t,e){1&t&&(s.Ob(0,"div"),s.Ob(1,"form",0),s.Ob(2,"clr-input-container"),s.Ob(3,"label",1),s.vc(4,"Concentration [mg/ml]"),s.Nb(),s.Jb(5,"input",2),s.Nb(),s.Ob(6,"clr-input-container"),s.Ob(7,"label",3),s.vc(8,"Poids [kg]"),s.Nb(),s.Jb(9,"input",4),s.Nb(),s.Ob(10,"clr-input-container"),s.Ob(11,"label",5),s.vc(12,"Dose journali\xe8re prescrite par kilogramme [mg/kg/jour]"),s.Nb(),s.Jb(13,"input",6),s.Nb(),s.Ob(14,"clr-input-container"),s.Ob(15,"label",7),s.vc(16,"Prises par jour"),s.Nb(),s.Jb(17,"input",8),s.Nb(),s.Nb(),s.Nb(),s.tc(18,d,7,6,"div",9)),2&t&&(s.xb(1),s.cc("formGroup",e.form),s.xb(17),s.cc("ngIf",e.dailyMl>0))},directives:[o.w,o.l,i.b,i.g,o.g,i.e,i.f,o.q,o.b,i.d,o.k,o.e,n.m],styles:[".result[_ngcontent-%COMP%]{font-weight:700}"]}),e}(f)},{path:"",redirectTo:"conc"}],y=function(){function t(){}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[c.c.forChild(v)],c.c]}),t}(),h=function(){function t(){}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[n.c,y,o.s,i.a]]}),t}()}}]);